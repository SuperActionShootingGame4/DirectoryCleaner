# DirectoryCleaner

■これは何？

指定したディレクトリ以下を再帰的にファイル検索し、重複したファイルを削除するツールです。<br>

■注意事項

・重複したファイルが見つかった場合、最初に見つけたファイル以外を削除します。<br>
・ファイル削除するかどうか、バックアップを取るなど気の利いたことはしませんので重要なファイルが存在する<br>
　ディレクトリで実行しないでください。たとえばCドライブ指定して本ツールを使っても何の責任も持ちません。<br>
・Windowsのファイル構造を前提に作られているのでWindows環境でしか正常に動作しません。<br>

■動作環境<br>

Python3.6以上<br>
Windows7<br>

■使用例<br>

下記の例はC:\Users\Defaultに対してファイルサイズが1Mbyte以下のファイルを対象にして重複したファイルをリストアップする。<br>
リストアップ後に重複したファイルを１つだけ残し他は削除する。<br>

例) python DirectoryCleaner.py -f delete -s -100000 -d C:\Users\Default


■生成ファイルについて
1.日付.csvファイル 検索した全てのファイルと重複したファイルのリストです。
2.日付.db 重複したファイルを消した後のファイルリストのDBです。
3.日付.db.backup 検索した全ファイルリストのDBです(重複ファイルも含まれます)


■-fオプション<br>
-f deleteを指定した場合、重複しているファイルを削除します。
-fを指定しない場合は重複ファイルの調査は行いますが、重複ファイルの削除は行いません。

■-dオプション<br>
検索するディレクトリを指定します。<br>
例) -d C:\usr\myfolder<br>

■-sオプション<br>
検索対象にするファイルサイズ(バイト)を指定します。<br>
"-"をつけるとファイルサイズ以下で検索します。<br>
"+"をつけるとファイルサイズ以上で検索します。<br>

例) -s -1000  …1Kbyte以下のファイルを対象にします。<br>
例) -s +1000000  …1Mbyte以上のファイルを対象にします。<br>


■ToDo<br>
1. "-d"オプションの省略<br>
2. ファイルパス文字列の最大値をOS毎に取得する。osライブラリで可能か<br>
3. 高速化
4. dbを使いまわし
5. ファイルを削除する代わりに一時フォルダへ移動する
6. 削除対象の拡張子を選択できるようにする
7. 検索したリストと削除したリストをファイルを分割するかシートを分割する


